# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∞ DE –ø–∞–π–ø–ª–∞–π–Ω–∞

## üß± –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- Kafka, Airflow, Zookeeper, Postgres, Mongo, ClickHouse, Grafana
## üß† –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å
- Python + Spark ETL –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
# üîÅ –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å
docker compose up ‚Üí –≤—Å—è —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞
–í airflow –Ω–∞—Å—Ç—Ä–æ–µ–Ω DAG –∫–æ—Ç–æ—Ä—ã–π –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç –≤—ã–≥—Ä—É–∑–∫—É –∏–∑ MongoDB –≤ Kafka –≥–¥–µ –¥–∞–Ω–Ω—ã–µ —É–∂–µ –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞—é—Ç—Å—è CLickhouse
docker exec -it etl_pipeline python /app/etl/mongo_to_kafka_producer.py - –∑–∞–ø—É—Å–∫ –ø–∞–π–ø–ª–∞–Ω–∞ —á–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ —Ä—É—á–Ω—É—é 

# üèéÔ∏è –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã
- –§–∞–π–ª entity_generator.py –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç json –¥–æ–∫—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ –ø–∞–ø–∫—É data
- –§–∞–π–ª mongo_producer.py –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö MongoDB, —Å–æ–∑–¥–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
- –§–∞–π–ª mongo_to_kafka_producer.py –ø–æ–¥—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ Mongo, —Ö—ç—à–∏—Ä—É–µ—Ç (MD5) –ø–æ–ª—è email, phone —É customer –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≤ kafka
- Kafka –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ Clikhouse, –≥–¥–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω "—Å–ª—É—à–∞—Ç–µ–ª—å" –∏ Materialize View, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—É—á–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç –≤ —Å—ã—Ä–æ–π raw —Å–ª–æ–π —Ö—Ä–∞–Ω–∏–ª–∏—â–∞. –î–≤–∏–∂–æ–∫ –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü—ã —Å—ã—Ä–æ–≥–æ —Å–ª–æ–≤—è - MergeTree
- –ù–∞ —Å—ã—Ä–æ–π —Å–ª–æ–π —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥—Ä—É–≥–æ–π MV –∫–æ—Ç–æ—Ä—ã–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏—Ö –∞–¥–µ–∫–≤–∞—Ç–Ω–æ—Å—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —É—Ä–æ–≤–µ–Ω—å (Silver) Mart. –î–≤–∏–∂–æ–∫ —É—Ä–æ–≤–Ω—è Mart - ReplacingMergeTree —á—Ç–æ–±—ã –∏–∑–±–∞–≤–∏—Ç—å—Å—è –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- –í—Å–µ sql —Å–∫—Ä–∏–ø—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ etl - sql_scripts
- –ü–æ–¥–∫–ª—é—á–∞–µ–º Grafana –∫ Clickhouse –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –¥–∞—à–±–æ—Ä–¥
- –õ–æ–∫–∞–ª—å–Ω–æ –ø–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ CLickhouse –∏ –∑–∞–±–µ—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ –≤ PySpark
- –°–æ—Å—Ç–∞–≤–ª—è–µ–º –º–∞—Ç—Ä–∏—Ü—É –ø—Ä–∏–∑–Ω–∞–∫–æ–≤. –ö–æ–¥ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è ch_pyspark.ipynb
- –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω–æ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ S3 (Selectel) —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
- –°—ã—ã–ª–∫–∞ –Ω–∞ —Ñ–∞–π–ª https://80f92754-ec9c-419e-9430-01a2d3b94b02.selstorage.ru/part-00000-de287b5e-30cc-4802-a8df-42a8c0ad8c16-c000.csv
